<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <meta http-equiv="refresh" content="3600">

    <title>Uttanríkisráðið | Hagvarp</title>

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/custom.css">

    <script src="lib/js/JSON-stat/json-stat.js"></script>
    <script src="lib/js/jquery-dist/dist/jquery.min.js"></script>
    <script src="lib/js/highstock-release/highstock.js"></script>
    <script src="lib/js/highstock-release/modules/exporting.js"></script>

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
            var link = document.createElement("link");
            link.rel = "stylesheet";
            link.type = "text/css";
            link.href = window.location.search.match(/print-pdf/gi) ? "css/print/pdf.css" : "css/print/paper.css";
            document.getElementsByTagName("head")[0].appendChild(link);
        </script>
</head>

<body>


    <script type="text/javascript">




      Highcharts.setOptions({
      lang: {
        decimalPoint: ",",
        thousandsSep: " ",
        shortWeekdays: ["Mán", "Týs", "Mik", "Hós", "Frí", "Ley", "Sun"],
        weekdays: ["Mánadagur", "Týsdagur", "Mikudagur", "Hósdagur", "Fríggjadagur", "Leygardagur", "Sunnudagur"],
        shortMonths: ["Jan", "Feb", "Mar", "Apr", "Mai", "Jun", "Jul", "Aug", "Sep", "Okt", "Nov", "Des"],
        months: ["Januar", "Februar", "Mars", "Apríl", "Mai", "Juni", "Juli", "August", "September", "Oktober", "November", "Desember"],
        downloadJPEG: "Goym JPEG mynd",
        downloadPDF: "Goym PDF skjal",
        downloadPNG: "Goym PNG mynd",
        downloadSVG: "Goym SVG vektor mynd",
        loading: "lesi inn...",
        printChart: "Prenta",
        rangeSelectorFrom: "Frá",
        rangeSelectorTo: "Til",
        resetZoom: "Nullstilla zoom",
        resetZoomTitle: "Nullstilla zoom level 1:1"
      }
    });





//---------------------------------------------------------
//                                CHART 1
//---------------------------------------------------------

            var chart1;
            var chart1Data;
            var chart1CreatedSeries;
            var chart1_last_month;
            var chart1Timeout0;
            var chart1Timeout1;
            var chart1Timeout2;
            var chart1Timeout3;

            function startAnimatingChart1() {
                clearTimeout(chart1Timeout0);
                clearTimeout(chart1Timeout1);
                clearTimeout(chart1Timeout2);
                clearTimeout(chart1Timeout3);

                drawChart1();

                chart1Timeout0 = setTimeout(function() {
                    chart1.addSeries(chart1CreatedSeries[0]);
                }, 0);
                chart1Timeout1 = setTimeout(function() {
                    chart1.addSeries(chart1CreatedSeries[1]);
                }, 2000);
                chart1Timeout2 = setTimeout(function() {
                    chart1.addSeries(chart1CreatedSeries[2]);
                }, 4000);

                chart1Timeout3 =setTimeout(function () {
                    chart1.update({xAxis: {
                        min: null,
                        max:null,
                    }});
                }, 25000);
            }

            //Chart 1 specific functions
            function drawChart1() {

                var jsonStatData = chart1Data;
                var jsonStatUtflutningurData= chart1bData;


                //Extrat Data From JSON Stat

                ds = JSONstat(jsonStatData).Dataset(0);


                dsutflutningur = JSONstat(jsonStatUtflutningurData).Dataset(0);

                t = dsutflutningur.Dimension("year").length - 1;
                year = dsutflutningur.Dimension("year").id;

                yearinnflutningur = ds.Dimension("year").id;
                yearinnflutningurlength = yearinnflutningur.length
                var fLen = year.length;

                yearinnflutningurutflutningurdifference = yearinnflutningurlength - fLen;



                m = dsutflutningur.Dimension("month").id;

                //Format Data




                var innflutningurdata = [];
                var utflutningurdata = [];
                var nettoflytingdata = [];

                var yaxisinnflutningur = [];
                var yaxisutflutningur = [];

                for (var i = 0; i < fLen; i++) {


                    innflutningur = ds.Data({ "BEC-groups": "TOT", "year": ds.Dimension("year").id[i + yearinnflutningurutflutningurdifference] }, false).filter(function(n) { return n; });
                    utflutningur = dsutflutningur.Data({ "unit": "DKK", "commodity group": "TOT", "year": dsutflutningur.Dimension("year").id[i] }, false).filter(function(n) { return n; });


                    for (var j = 0; j < utflutningur.length; j++) {

                        yaxisinnflutningur.push[innflutningur[j]];
                        yaxisutflutningur.push[-utflutningur[j]];

                        var month = m[j];

                        if(month.length == 1) {
                            month = "0" + month;
                        }


                        innflutningurdata.push([Date.parse(year[i] + "-" + month), -innflutningur[j]/1000]);
                        utflutningurdata.push([Date.parse(year[i] + "-" + month), utflutningur[j]/1000]);
                        nettoflytingdata.push([Date.parse(year[i] + "-" + month), (utflutningur[j] - innflutningur[j])/1000]);

                    }
                }

                var chart1_last_month = innflutningurdata[innflutningurdata.length - 1];
                chart1_last_month = chart1_last_month[0];

                //Build Series
                var createdSeries = [{
                    name: "Útflutningur",
                    data: utflutningurdata,
                    color: "#7fb800",
                    borderWidth: 0,
                    tooltip: {
                        valueDecimals: 0
                    }
                }, {
                    name: "Innflutningur",
                    data: innflutningurdata,
                    color: "#00a6ed",
                    borderWidth: 0,

                    tooltip: {
                        valueDecimals: 0
                    }
                }, {
                    name: "Handilsjavni",
                    type: "spline",
                    data: nettoflytingdata,
                    color: "#fff",
                    borderWidth: 0,
                    tooltip: {
                        valueDecimals: 0
                    },
                    marker: {
                        enabled: false
                    }
                }];
                chart1CreatedSeries = createdSeries;


                //Build Title
                var title = ds.label;

                //Build subtitle
                var subtitle = ds.source;

                //Build Tooltip
                var tooltipFunction = function () {
                    var s = "<b>" + Highcharts.dateFormat("%Y-%b", this.x) + "</b>";
                    $.each(this.points,
                        function (i, point) {
                            s += "<br/>" + point.series.name + ": " + Highcharts.numberFormat(point.y, 0.0, ",", ".");
                        });

                    return s;
                }

                //Build Chart
                $("#chart1").highcharts({
                    credits: {
                        enabled: false
                    },
                    chart: {
                        type: "column",
                        backgroundColor: "rgba(255, 255, 255, 0)",
                        borderWidth: 0,
                        renderTo: "container",
                        events: {
                            load: function () {
                                chart1 = this;
                            }

                        }
                    },
                    rangeSelector: {
                        enabled: false
                    },

                    exporting: {
                        enabled: false
                    },

                    navigator: {
                        enabled: false
                    },
                    title: {
                        text: ""
                    },
                    legend: {
                        layout: "horizontal",
                        align: "center",
                        verticalAlign: "top",

                        itemStyle: {
                            color: "#fff",
                            fontWeight: "normal"
                        }
                    },
                    xAxis: {
                        title: {
                            enabled: false
                        },
                        type: "datetime",
                        min: chart1_last_month - 65743595833,
                        max: chart1_last_month,
                        labels: {
                            style: {
                                color: "#fff",
                                fontSize: "11px"
                            }
                        },

                    },
                    yAxis: {
                        title: {
                            text: "",
                            style: {
                                color: "#fff",
                                fontWeight: "normal",
                                fontSize: "12px"
                            }
                        },
                        lineColor: "#fff",
                        tickColor: "#fff",
                        labels: {
                            formatter: function () {
                                return Highcharts.numberFormat(Math.abs(this.value),0);
                            },
                            style: {
                                color: "#fff",
                                font: "11px"
                            }
                        },
                    },
                    tooltip: {
                        enabled: false
                    },
                    plotOptions: {
                        series: {
                            stacking: "normal",
                            showInNavigator: true,
                            dataGrouping:{
                                enabled: true,
                                approximation: "sum",
                                units:[ ["year", null]]
                            }
                        },

                        

                    },
                    series: []
                });
            }

            function loadDataAndBuildChart1() {
                POST("https://statbank.hagstova.fo/api/v1/fo/H2/UH/UH01/uh_innbec.px", {
                    "query": [
                        {
                              "code": "BEC-groups",
                              "selection": {
                                "filter": "item",
                                "values": [
                                  "TOT"
                                ]
                              }
                            },
                        {
                          "code": "month",
                          "selection": {
                            "filter": "all",
                            "values": [
                              "*"
                            ]
                          }
                        }
                    ],
                    "response": {
                        "format": "json-stat"

                    }

                },function(data) {
                    chart1Data = data;
                    loadDataAndBuildChart1b();
                } );
            }


            function loadDataAndBuildChart1b() {
                POST("https://statbank.hagstova.fo/api/v1/fo/H2/UH/UH01/uh_ututgr.px", {
                    "query": [
                        {
                          "code": "unit",
                          "selection": {
                            "filter": "item",
                            "values": [
                              "DKK"
                            ]
                          }
                        },
                        {
                              "code": "commodity group",
                              "selection": {
                                "filter": "item",
                                "values": [
                                  "TOT"
                                ]
                              }
                            },
                        {
                          "code": "month",
                          "selection": {
                            "filter": "all",
                            "values": [
                              "*"
                            ]
                          }
                        }
                    ],
                    "response": {
                        "format": "json-stat"

                    }

                },function(data) {
                    chart1bData = data;
                    drawChart1();
                    startAnimatingChart1();
                } );
            }






//---------------------------------------------------------
//                       CHART 8
//---------------------------------------------------------
            var chart8;
            var chart8Data;
            var chart8_last_month;
            var chart8Timeout0;

            function startAnimatingChart8() {
                clearTimeout(chart8Timeout0);

                drawChart8();

                chart8Timeout0 = setTimeout(function () {
                    chart8.update({xAxis: {
                        min: null,
                        max: null
                    }});
                }, 25000);
            }

            //Chart 8 specific functions
            function drawChart8() {
                var jsonStatData = chart8Data;

                //Extrat Data From JSON Stat
                ds = JSONstat(jsonStatData).Dataset(0);
                t = ds.Dimension("year").length - 1;
                year = ds.Dimension("year").id;

                var fLen = year.length;
                m = ds.Dimension("month").id;

                //Format Data
                var innflutningurdata = [];

                for (var i = 0; i < fLen; i++) {
                    var innflutningur = ds.Data({ "BEC-groups": "TOT", "year": ds.Dimension("year").id[i] }, false).filter(function(n) { return n; });
                    var skipflogfor = ds.Data({ "BEC-groups": "10", "year": ds.Dimension("year").id[i] }, false).map(function(n) { return n !== "-" | null | n }).filter(function(n) { return n; });




                    for (var j = 0; j < innflutningur.length; j++) {
                        var month = m[j];
                        if(month.length == 1) {
                            month = "0" + month;
                        }
                        innflutningurdata.push([Date.parse(year[i] + "-" + month), (innflutningur[j] - skipflogfor[j])*0.001]);
                    }
                }





                var chart8_last_month = innflutningurdata[innflutningurdata.length - 1];
                chart8_last_month = chart8_last_month[0];

                //Build Series
                var createdSeries = [{
                    name: "Innflutningur",
                    data: innflutningurdata,
                    color: "#fff",
                    tooltip: {
                        valueDecimals: 1
                    }
                }
                ];

                //Build Title
                var title = ds.label;

                //Build subtitle
                var subtitle = ds.source;

                //Build Tooltip
                var tooltipFunction = function () {
                    var s = "<b>" + Highcharts.dateFormat("%Y-%b", this.x) + "</b>";
                    $.each(this.points,
                        function (i, point) {
                            s += "<br/>" + point.series.name + ": " + Highcharts.numberFormat(point.y, 0.0, ",", ".");
                        });

                    return s;
                }

                //Build Chart
                $("#chart8").highcharts({
                    credits: {
                        enabled: false
                    },
                    chart: {
                        type:"line",
                        backgroundColor: "rgba(255, 255, 255, 0)",
                        borderWidth: 0,
                        renderTo: "container",
                        events: {
                            load: function () {
                                chart8 = this;
                            }
                        }
                    }
                    ,
                    rangeSelector: {
                        enabled: false
                    },

                    exporting: {
                        enabled: false
                    },
                    navigator: {
                        enabled: false
                    },
                    title: {
                        text: ""
                    },
                    legend: {
                        layout: "horizontal",
                        align: "center",
                        verticalAlign: "top",

                        itemStyle: {
                            color: "#fff",
                            fontWeight: "normal"
                        }
                    },
                    xAxis: {
                        title: {
                            enabled: false
                        },
                        tickInterval: 2629746000,
                        type: "datetime",
                        lineColor: "#fff",
                        tickColor: "#fff",
                        min: chart8_last_month - 65743595833,
                        max: chart8_last_month,
                        labels: {
                            style: {
                                color: "#fff",
                                fontSize: "11px"
                            }
                        }

                    },
                    yAxis: {
                        title: {
                            text: "",
                            style: {
                                color: "#fff",
                                fontWeight: "normal",
                                fontSize: "12px"
                            }
                        },
                        lineColor: "#fff",
                        tickColor: "#fff",
                        labels: {
                            formatter: function () {
                                return Highcharts.numberFormat(this.value,0) + "";
                            },
                            style: {
                                color: "#fff",
                                fontSize: "11px"
                            }
                        },
                    },
                    tooltip: {
                        enabled: false
                    },
                    legend: {
                        enabled: false
                    },
                    plotOptions: {
                        line: {
                            marker: {
                                enabled: false
                            },
                            dataLabels: {
                                enabled: true,
                                color: "#FFF",
                                useHTML: true,
                                crop: false,
                                overflow: false,
                                formatter: function() {
                                  var last  = this.series.data[this.series.data.length - 1];
                                  if (this.point.category === last.category && this.point.y === last.y) {
                                    return ('<div class="MyDataLabelTooltip"><span class="datetext">' + Highcharts.dateFormat("%b &apos;%y",this.point.x) + "</span><br />" + Highcharts.numberFormat(this.point.y,0) + " mió" + "</div>");
                                  }
                                  else {return};
                                }
                            }
                        },
                        series: {
                            showInNavigator: true
                        }
                    },
                    series: createdSeries
                });
            }

            function loadDataAndBuildChart8() {
                POST("https://statbank.hagstova.fo/api/v1/fo/H2/UH/UH01/uh_innbec.px", {
                    "query": [
                        {
                          "code": "BEC-groups",
                          "selection": {
                            "filter": "item",
                            "values": [
                              "TOT",
                              "10"
                            ]
                          }
                        },
                        {
                            "code": "month",
                            "selection": {
                                "filter": "all",
                                "values": [
                                    "*"
                                ]
                            }
                        }
                    ],
                    "response": {
                        "format": "json-stat"
                    }
                }, function(data) {
                    chart8Data = data;
                    drawChart8();
                    startAnimatingChart8();
                });
            }









//---------------------------------------------------------
//                       CHART 9
//---------------------------------------------------------
            var chart9;
            var chart9Data;
            var chart9_last_month;
            var chart9Timeout0;

            function startAnimatingChart9() {
                clearTimeout(chart9Timeout0);

                drawChart9();

                chart9Timeout0 = setTimeout(function () {
                    chart9.update({xAxis: {
                        min: null,
                        max: null
                    }});
                }, 25000);
            }

            //Chart 9 specific functions
            function drawChart9() {
                var jsonStatData = chart9Data;

                //Extrat Data From JSON Stat
                ds = JSONstat(jsonStatData).Dataset(0);
                t = ds.Dimension("year").length - 1;
                year = ds.Dimension("year").id;

                var fLen = year.length;
                m = ds.Dimension("month").id;

                //Format Data
                var tilfarvinnadata = [];
                var husarhalddata = [];

                for (var i = 0; i < fLen; i++) {
                    var husarhald = ds.Data({ "BEC-groups": "8", "year": ds.Dimension("year").id[i] }, false).filter(function(n) { return n; });
                    var havlandbunad = ds.Data({ "BEC-groups": "2", "year": ds.Dimension("year").id[i] }, false).filter(function(n) { return n; });
                    var byggivirki = ds.Data({ "BEC-groups": "3", "year": ds.Dimension("year").id[i] }, false).filter(function(n) { return n; });
                    var fiskivirki = ds.Data({ "BEC-groups": "4", "year": ds.Dimension("year").id[i] }, false).filter(function(n) { return n; });
                    var onnurframleidlsa = ds.Data({ "BEC-groups": "12", "year": ds.Dimension("year").id[i] }, false).filter(function(n) { return n; });


                    for (var j = 0; j < havlandbunad.length; j++) {
                        var month = m[j];
                        if(month.length == 1) {
                            month = "0" + month;
                        }
                        tilfarvinnadata.push([Date.parse(year[i] + "-" + month), (havlandbunad[j] + byggivirki[j] + fiskivirki[j] + onnurframleidlsa[j])*0.001]);
                        husarhalddata.push([Date.parse(year[i] + "-" + month), (husarhald[j])*0.001]);
                    }
                }





                var chart9_last_month = tilfarvinnadata[tilfarvinnadata.length - 1];
                chart9_last_month = chart9_last_month[0];

                //Build Series
                var createdSeries = [{
                    name: "Tilfar til vinnu",
                    data: tilfarvinnadata,
                    color: "#00a6ed",
                    tooltip: {
                        valueDecimals: 1
                    },
                },
                {
                    name: "Húsarhald",
                    data: husarhalddata,
                    color: "#fb6107",
                    tooltip: {
                        valueDecimals: 1
                    }
                }                
                ];

                //Build Title
                var title = ds.label;

                //Build subtitle
                var subtitle = ds.source;

                //Build Tooltip
                var tooltipFunction = function () {
                    var s = "<b>" + Highcharts.dateFormat("%Y-%b", this.x) + "</b>";
                    $.each(this.points,
                        function (i, point) {
                            s += "<br/>" + point.series.name + ": " + Highcharts.numberFormat(point.y, 0.0, ",", ".");
                        });

                    return s;
                }

                //Build Chart
                $("#chart9").highcharts({
                    credits: {
                        enabled: false
                    },
                    chart: {
                        type:"line",
                        backgroundColor: "rgba(255, 255, 255, 0)",
                        borderWidth: 0,
                        renderTo: "container",
                        events: {
                            load: function () {
                                chart9 = this;
                            }
                        }
                    }
                    ,
                    rangeSelector: {
                        enabled: false
                    },

                    exporting: {
                        enabled: false
                    },
                    navigator: {
                        enabled: false
                    },
                    title: {
                        text: ""
                    },
                    legend: {
                        layout: "horizontal",
                        align: "center",
                        verticalAlign: "top",
                        itemStyle: {
                            color: "#fff",
                            fontWeight: "normal"
                        }
                    },
                    xAxis: {
                        title: {
                            enabled: false
                        },
                        tickInterval: 2629746000,
                        type: "datetime",
                        lineColor: "#fff",
                        tickColor: "#fff",
                        min: chart9_last_month - 65743595833,
                        max: chart9_last_month,
                        labels: {
                            style: {
                                color: "#fff",
                                fontSize: "11px"
                            }
                        }

                    },
                    yAxis: {
                        title: {
                            text: "",
                            style: {
                                color: "#fff",
                                fontWeight: "normal",
                                fontSize: "12px"
                            }
                        },
                        lineColor: "#fff",
                        tickColor: "#fff",
                        labels: {
                            formatter: function () {
                                return Highcharts.numberFormat(this.value,0) + "";
                            },
                            style: {
                                color: "#fff",
                                fontSize: "11px"
                            }
                        },
                    },
                    tooltip: {
                        enabled: false
                    },
                    plotOptions: {
                        line: {
                            marker: {
                                enabled: false
                            },
                            lineWidth: 4

                        },

                        series: {
                            dataGrouping:{
                                enabled: true,
                                units:[ ["year", [null]]],
                                groupPixelWidth: 30
                            },
                        },

                    },
                    series: createdSeries
                });
            }

            function loadDataAndBuildChart9() {
                POST("https://statbank.hagstova.fo/api/v1/fo/H2/UH/UH01/uh_innbec.px", {
                    "query": [
                        {
                          "code": "BEC-groups",
                          "selection": {
                            "filter": "item",
                            "values": [
                                  "2",
                                  "3",
                                  "4",
                                  "8",
                                  "12"
                            ]
                          }
                        },
                        {
                            "code": "month",
                            "selection": {
                                "filter": "all",
                                "values": [
                                    "*"
                                ]
                            }
                        }
                    ],
                    "response": {
                        "format": "json-stat"
                    }
                }, function(data) {
                    chart9Data = data;
                    drawChart9();
                    startAnimatingChart9();
                });
            }





//---------------------------------------------------------
//                       CHART 2
//---------------------------------------------------------
            var chart2;
            var chart2Data;
            var chart2_last_month;
            var chart2Timeout0;

            function startAnimatingChart2() {
                clearTimeout(chart2Timeout0);

                drawChart2();

                chart2Timeout0 = setTimeout(function () {
                    chart2.update({xAxis: {
                        min: null,
                        max: null
                    }});
                }, 25000);
            }

            //Chart 9 specific functions
            function drawChart2() {
                var jsonStatData = chart2Data;

                //Extrat Data From JSON Stat
                ds = JSONstat(jsonStatData).Dataset(0);
                t = ds.Dimension("year").length - 1;
                year = ds.Dimension("year").id;

                var fLen = year.length;
                m = ds.Dimension("month").id;

                
                //Format Data
                var utflutningurdata = [];

                for (var i = 0; i < fLen; i++) {
                    var utflutningur = ds.Data({ "fish species and other groups": "TOT", "year": ds.Dimension("year").id[i] }, false).filter(function(n) { return n; });
                    var adrarvorur = ds.Data({ "fish species and other groups": "91", "year": ds.Dimension("year").id[i] }, false).map(function(n) { return n !== "-" | null | n }).filter(function(n) { return n; });
                    var skipflogfor = ds.Data({ "fish species and other groups": "90", "year": ds.Dimension("year").id[i] }, false).map(function(n) { return n !== "-" | null | n }).filter(function(n) { return n; });

                    for (var j = 0; j < utflutningur.length; j++) {
                        var month = m[j];
                        if(month.length == 1) {
                            month = "0" + month;
                        }
                        utflutningurdata.push([Date.parse(year[i] + "-" + month), (utflutningur[j]-adrarvorur[j]-skipflogfor[j])*0.001]);
                    }
                }



                var chart2_last_month = utflutningurdata[utflutningurdata.length - 1];
                chart2_last_month = chart2_last_month[0];

                //Build Series
                var createdSeries = [{
                    name: "Útflutningur",
                    data: utflutningurdata,
                    color: "#fff",
                    tooltip: {
                        valueDecimals: 1
                    }
                }
                ];

                //Build Title
                var title = ds.label;

                //Build subtitle
                var subtitle = ds.source;

                //Build Tooltip
                var tooltipFunction = function () {
                    var s = "<b>" + Highcharts.dateFormat("%Y-%b", this.x) + "</b>";
                    $.each(this.points,
                        function (i, point) {
                            s += "<br/>" + point.series.name + ": " + Highcharts.numberFormat(point.y, 0.0, ",", ".");
                        });

                    return s;
                }

                //Build Chart
                $("#chart2").highcharts({
                    credits: {
                        enabled: false
                    },
                    chart: {
                        type:"line",
                        backgroundColor: "rgba(255, 255, 255, 0)",
                        borderWidth: 0,
                        renderTo: "container",
                        events: {
                            load: function () {
                                chart2 = this;
                            }
                        }
                    }
                    ,
                    rangeSelector: {
                        enabled: false
                    },

                    exporting: {
                        enabled: false
                    },
                    navigator: {
                        enabled: false
                    },
                    title: {
                        text: ""
                    },
                    legend: {
                        layout: "horizontal",
                        align: "center",
                        verticalAlign: "top",

                        itemStyle: {
                            color: "#fff",
                            fontWeight: "normal"
                        }
                    },
                    xAxis: {
                        title: {
                            enabled: false
                        },
                        tickInterval: 2629746000,
                        type: "datetime",
                        lineColor: "#fff",
                        tickColor: "#fff",
                        min: chart2_last_month - 65743595833,
                        max: chart2_last_month,
                        labels: {
                            style: {
                                color: "#fff",
                                fontSize: "11px"
                            }
                        }

                    },
                    yAxis: {
                        title: {
                            text: "",
                            style: {
                                color: "#fff",
                                fontWeight: "normal",
                                fontSize: "12px"
                            }
                        },
                        lineColor: "#fff",
                        tickColor: "#fff",
                        labels: {
                            formatter: function () {
                                return Highcharts.numberFormat(this.value,0) + "";
                            },
                            style: {
                                color: "#fff",
                                fontSize: "11px"
                            }
                        },
                    },
                    tooltip: {
                        enabled: false
                    },
                    legend: {
                        enabled: false
                    },
                    plotOptions: {
                        line: {
                            marker: {
                                enabled: false
                            },
                            dataLabels: {
                                enabled: true,
                                color: "#FFF",
                                useHTML: true,
                                crop: false,
                                overflow: false,
                                formatter: function() {
                                  var last  = this.series.data[this.series.data.length - 1];
                                  if (this.point.category === last.category && this.point.y === last.y) {
                                    return ('<div class="MyDataLabelTooltip"><span class="datetext">' + Highcharts.dateFormat("%b &apos;%y",this.point.x) + "</span><br />" + Highcharts.numberFormat(this.point.y,0) + " mió" + "</div>");
                                  }
                                  else {return};
                                }
                            }
                        },
                        series: {
                            showInNavigator: true
                        }
                    },
                    series: createdSeries
                });
            }

            function loadDataAndBuildChart2() {
                POST("https://statbank.hagstova.fo/api/v1/fo/H2/UH/UH01/uh_utfisk.px", {
                    "query": [
                        {
                            "code": "unit",
                            "selection": {
                                "filter": "item",
                                "values": [
                                    "DKK"
                                ]
                            }
                        },
                        {
                            "code": "fish species and other groups",
                            "selection": {
                                "filter": "item",
                                "values": [
                                    "TOT",
                                    "91",
                                    "90"

                                ]
                            }
                        },
                        {
                            "code": "month",
                            "selection": {
                                "filter": "all",
                                "values": [
                                    "*"
                                ]
                            }
                        }
                    ],
                    "response": {
                        "format": "json-stat"
                    }
                }, function(data) {
                    chart2Data = data;
                    drawChart2();
                    startAnimatingChart2();
                });
            }





//---------------------------------------------------------
//                                CHART 3
//---------------------------------------------------------

            var chart3;
            var chart3Data;
            var chart3CreatedSeries;
            var chart3_last_month;
            var chart3Timeout0;
            var chart3Timeout1;
            var chart3Timeout2;
            var chart3Timeout3;
            var chart3Timeout4;

            function startAnimatingChart3() {
                clearTimeout(chart3Timeout0);
                clearTimeout(chart3Timeout1);
                clearTimeout(chart3Timeout2);
                clearTimeout(chart3Timeout3);
                clearTimeout(chart3Timeout4);

                drawChart3();

                chart3Timeout0 = setTimeout(function() {
                    chart3.addSeries(chart3CreatedSeries[0]);
                }, 100);
                chart3Timeout1 = setTimeout(function() {
                    chart3.addSeries(chart3CreatedSeries[1]);
                }, 3000);
                chart3Timeout2 = setTimeout(function() {
                    chart3.addSeries(chart3CreatedSeries[2]);
                }, 5000);
                chart3Timeout3 = setTimeout(function() {
                    chart3.addSeries(chart3CreatedSeries[3]);
                }, 7000);

                chart3Timeout4 =setTimeout(function () {
                    chart3.update({xAxis: {
                        min: null,
                        max: null,
                    }});
                }, 25000);
            }

            //Chart 3 specific functions
            function drawChart3() {

                var jsonStatData = chart3Data;
                //Extrat Data From JSON Stat
                ds = JSONstat(jsonStatData).Dataset(0);
                t = ds.Dimension("year").length - 1;
                year = ds.Dimension("year").id;
                var fLen = year.length;
                m = ds.Dimension("month").id;


            //Format Data

                var onnurfiskaslogdata = [];
                var toskurhysaupsidata = [];
                var makrelursildsvartkjafturdata = [];
                var alifiskurdata = [];

                for (var i = 0; i < fLen; i++) {
                    var onnurfiskaslog = ds.Data({"commodity group": "080", "year": ds.Dimension("year").id[i] }, false).filter(function(n) { return n; });
                    var toskur = ds.Data({"commodity group": "001", "year": ds.Dimension("year").id[i] }, false);
                    var hysa = ds.Data({"commodity group": "003", "year": ds.Dimension("year").id[i] }, false);
                    var upsi = ds.Data({"commodity group": "002", "year": ds.Dimension("year").id[i] }, false);
                    var makrelur = ds.Data({"commodity group": "051", "year": ds.Dimension("year").id[i] }, false);
                    var sild = ds.Data({"commodity group": "050", "year": ds.Dimension("year").id[i] }, false);
                    var svartkjaftur = ds.Data({"commodity group": "053", "year": ds.Dimension("year").id[i] }, false);
                    var laksur = ds.Data({"commodity group": "011", "year": ds.Dimension("year").id[i] }, false);
                    var sil = ds.Data({"commodity group": "030", "year": ds.Dimension("year").id[i] }, false);
                    var raekjur = ds.Data({"commodity group": "067", "year": ds.Dimension("year").id[i] }, false);

                    for (var j = 0; j < onnurfiskaslog.length; j++) {
                        var month = m[j];
                        if(month.length == 1) {
                            month = "0" + month;
                        }
                        onnurfiskaslogdata.push([Date.parse(year[i] + "-" + month), (onnurfiskaslog[j] + raekjur[j])*0.001]);
                        toskurhysaupsidata.push([Date.parse(year[i] + "-" + month), (toskur[j] + hysa[j] + upsi[j])*0.001]);
                        alifiskurdata.push([Date.parse(year[i] + "-" + month), (laksur[j] + sil[j])*0.001]);
                        makrelursildsvartkjafturdata.push([Date.parse(year[i] + "-" + month), (makrelur[j] + sild[j] + svartkjaftur[j])*0.001]);
                    }
                }




                var chart3_last_month = onnurfiskaslogdata[onnurfiskaslogdata.length - 1];
                chart3_last_month = chart3_last_month[0];

                //Build Series
                var createdSeries = [
                {
                    name: "Toskur, hýsa, upsi",
                    data: toskurhysaupsidata,
                    color: "#9b1212",
                    tooltip: {
                        valueDecimals: 1
                    },
                    legendIndex:1,
                    index: 3
                },
                {
                    name: "Makrelur, sild, svartkjaftur",
                    data: makrelursildsvartkjafturdata,
                    color: "#f7b538",
                    tooltip: {
                        valueDecimals: 1
                    },
                    legendIndex:2,
                    index: 2
                },
                {
                    name: "Alifiskur",
                    data: alifiskurdata,
                    color: "#fb6107",
                    tooltip: {
                        valueDecimals: 1
                    },
                    legendIndex:3,
                    index: 1
                },
                {
                    name: "Onnur fiskasløg",
                    data: onnurfiskaslogdata,
                    color: "#ecf0f1",
                    tooltip: {
                        valueDecimals: 1
                    },
                    legendIndex:4,
                    index: 0
                }
                ];
                chart3CreatedSeries = createdSeries;


                //Build Title
                var title = ds.label;

                //Build subtitle
                var subtitle = ds.source;

                //Build Tooltip
                var tooltipFunction = function () {
                    var s = "<b>" + Highcharts.dateFormat("%Y-%b", this.x) + "</b>";
                    $.each(this.points,
                        function (i, point) {
                            s += "<br/>" + point.series.name + ": " + Highcharts.numberFormat(point.y, 0.0, ",", ".");
                        });

                    return s;
                }

                //Build Chart
                $("#chart3").highcharts({
                    credits: {
                        enabled: false
                    },
                    chart: {

                        backgroundColor: "rgba(255, 255, 255, 0)",
                        borderWidth: 0,
                        renderTo: "container",
                        events: {
                            load: function () {
                                chart3 = this;
                            }

                        }
                    },
                    rangeSelector: {
                        enabled: false
                    },

                    exporting: {
                        enabled: false
                    },

                    navigator: {
                        enabled: false
                    },
                    title: {
                        text: ""
                    },
                    legend: {
                        layout: "horizontal",
                        align: "center",
                        verticalAlign: "top",

                        itemStyle: {
                            color: "#fff",
                            fontWeight: "normal"
                        }
                    },
                    xAxis: {
                        title: {
                            enabled: false
                        },
                        type: "datetime",
                        min: chart3_last_month - 65743595833,
                        max: chart3_last_month,
                        labels: {
                            style: {
                                color: "#fff",
                                fontSize: "11px"
                            }
                        },
                        showLastLabel: true,

                    },
                    yAxis: {
                        title: {
                            text: "",
                            style: {
                                color: "#fff",
                                fontWeight: "normal",
                                fontSize: "12px"
                            }
                        },
                        min: 0,
                        lineColor: "#fff",
                        tickColor: "#fff",
                        labels: {
                            formatter: function () {
                                return Highcharts.numberFormat(this.value, 0);
                            },
                            style: {
                                color: "#fff",
                                font: "11px"
                            }
                        },
                    },
                    tooltip: {
                        enabled: false
                    },
                    plotOptions: {
                    	line: {
                    		marker: {
                    			enabled: false
                    		},
                            lineWidth: 4

                    	},

                        series: {
                            dataGrouping:{
                                enabled: true,
                                units:[ ["year", [null]]],
                                groupPixelWidth: 10
                            },
                        },

                    },
                    series: []
                });
            }

            function loadDataAndBuildChart3() {
                POST("https://statbank.hagstova.fo/api/v1/fo/H2/UH/UH01/uh_ututgr.px", {
                    "query": [
                        {
                            "code": "unit",
                            "selection": {
                                "filter": "item",
                                "values": [
                                    "DKK"
                                ]
                            }
                        },
                        {
                          "code": "commodity group",
                          "selection": {
                            "filter": "item",
                            "values": [
                              "TOT",
                              "001",
                              "003",
                              "002",
                              "011",
                              "030",
                              "053",
                              "050",
                              "051",
                              "067",
                              "080"
                            ]
                          }
                        },
                        {
                            "code": "month",
                            "selection": {
                                "filter": "all",
                                "values": [
                                    "*"
                                ]
                            }
                        }
                    ],
                    "response": {
                        "format": "json-stat"

                    }
                },function(data) {
                    chart3Data = data;
                    drawChart3();
                    startAnimatingChart3();
                } );
            }














//---------------------------------------------------------
//                                CHART 5
//---------------------------------------------------------

            var chart5;
            var chart5Data;
            var chart5CreatedSeries;
            var chart5_last_month;
            var chart5Timeout0;
            var chart5Timeout1;
            var chart5Timeout2;
            var chart5Timeout3;

            function startAnimatingChart5() {
                clearTimeout(chart5Timeout0);
                clearTimeout(chart5Timeout1);
                clearTimeout(chart5Timeout2);
                clearTimeout(chart5Timeout3);

                drawChart5();

                chart5Timeout0 = setTimeout(function() {
                    chart5.addSeries(chart5CreatedSeries[0]);
                }, 0);
                chart5Timeout1 = setTimeout(function() {
                    chart5.addSeries(chart5CreatedSeries[1]);
                }, 2000);
                chart5Timeout2 = setTimeout(function() {
                    chart5.addSeries(chart5CreatedSeries[2]);
                }, 4000);

                chart5Timeout3 =setTimeout(function () {
                    chart5.update({xAxis: {
                        min: null,
                        max:null,
                    }});
                }, 25000);
            }

            //Chart 5 specific functions
            function drawChart5() {

                var jsonStatData = chart5Data;
                var jsonStatUtflutningurData= chart5bData;


                //Extrat Data From JSON Stat

                ds = JSONstat(jsonStatData).Dataset(0);


                dsutflutningur = JSONstat(jsonStatUtflutningurData).Dataset(0);

                t = dsutflutningur.Dimension("year").length - 1;
                year = dsutflutningur.Dimension("year").id;

                yearinnflutningur = ds.Dimension("year").id;
                yearinnflutningurlength = yearinnflutningur.length
                var fLen = year.length;

                yearinnflutningurutflutningurdifference = yearinnflutningurlength - fLen;


                //Format Data

                var innflutningurdata = [];
                var utflutningurdata = [];
                var nettoflytingdata = [];

                var yaxisinnflutningur = [];
                var yaxisutflutningur = [];



				

                for (var i = 0; i < fLen; i++) {

		            innflutningur = ds.Data({ "year": ds.Dimension("year").id[i] }, false);



                    utflutningur = dsutflutningur.Data({ "year": dsutflutningur.Dimension("year").id[i] }, false);

                    innflutningurdata.push([Date.parse(year[i]), -innflutningur/1000]);


                    utflutningurdata.push([Date.parse(year[i]), utflutningur/1000]);
                    nettoflytingdata.push([Date.parse(year[i]), (utflutningur - innflutningur)/1000]);



                }




                //Build Series
                var createdSeries = [{
                    name: "Útflutningur",
                    data: utflutningurdata,
                    color: "#7fb800",
                    borderWidth: 0,
                    tooltip: {
                        valueDecimals: 0
                    }
                }, {
                    name: "Innflutningur",
                    data: innflutningurdata,
                    color: "#00a6ed",
                    borderWidth: 0,

                    tooltip: {
                        valueDecimals: 0
                    }
                }, {
                    name: "Handilsjavni",
                    type: "spline",
                    data: nettoflytingdata,
                    color: "#fff",
                    borderWidth: 0,
                    tooltip: {
                        valueDecimals: 0
                    },
                    marker: {
                        enabled: false
                    }
                }];
                chart5CreatedSeries = createdSeries;


                //Build Title
                var title = ds.label;

                //Build subtitle
                var subtitle = ds.source;

                //Build Tooltip
                var tooltipFunction = function () {
                    var s = "<b>" + Highcharts.dateFormat("%Y-%b", this.x) + "</b>";
                    $.each(this.points,
                        function (i, point) {
                            s += "<br/>" + point.series.name + ": " + Highcharts.numberFormat(point.y, 0.0, ",", ".");
                        });

                    return s;
                }

                //Build Chart
                $("#chart5").highcharts({
                    credits: {
                        enabled: false
                    },
                    chart: {
                        type: "column",
                        backgroundColor: "rgba(255, 255, 255, 0)",
                        borderWidth: 0,
                        renderTo: "container",
                        events: {
                            load: function () {
                                chart5 = this;
                            }

                        }
                    },
                    rangeSelector: {
                        enabled: false
                    },

                    exporting: {
                        enabled: false
                    },

                    navigator: {
                        enabled: false
                    },
                    title: {
                        text: ""
                    },
                    legend: {
                        layout: "horizontal",
                        align: "center",
                        verticalAlign: "top",

                        itemStyle: {
                            color: "#fff",
                            fontWeight: "normal"
                        }
                    },
                    xAxis: {
                        title: {
                            enabled: false
                        },
                        type: "datetime",
                        labels: {
                            style: {
                                color: "#fff",
                                fontSize: "11px"
                            }
                        },

                    },
                    yAxis: {
                        title: {
                            text: "",
                            style: {
                                color: "#fff",
                                fontWeight: "normal",
                                fontSize: "12px"
                            }
                        },
                        lineColor: "#fff",
                        tickColor: "#fff",
                        labels: {
                            formatter: function () {
                                return Highcharts.numberFormat(Math.abs(this.value),0);
                            },
                            style: {
                                color: "#fff",
                                font: "11px"
                            }
                        },
                    },
                    tooltip: {
                        enabled: false
                    },
                    plotOptions: {
                        series: {
                            stacking: "normal",
                            showInNavigator: true,
                            dataGrouping:{
                                enabled: true,
                                approximation: "sum",
                                units:[ ["year", null]]
                            }
                        },

                        

                    },
                    series: []
                });
            }

            function loadDataAndBuildChart5() {
                POST("https://statbank.hagstova.fo/api/v1/fo/H2/UH/UH01/uh_innlond.px", {
                    "query": [
					    {
					      "code": "country of origin",
					      "selection": {
					        "filter": "item",
					        "values": [
					          "075"
					        ]
					      }
					    },
					    {
					      "code": "year",
					      "selection": {
					        "filter": "all",
					        "values": [
					          "*"
					        ]
					      }
					    }					    
                    ],
                    "response": {
                        "format": "json-stat"

                    }

                },function(data) {
                    chart5Data = data;
                    loadDataAndBuildChart5b();
                } );
            }


            function loadDataAndBuildChart5b() {
                POST("https://statbank.hagstova.fo/api/v1/fo/H2/UH/UH01/uh_utlond.px", {
                    "query": [
                        {
					      "code": "country of final destination",
					      "selection": {
					        "filter": "item",
					        "values": [
					          "075"
					        ]
					      }
					    },
					    {
					      "code": "year",
					      "selection": {
					        "filter": "all",
					        "values": [
					          "*"
					        ]
					      }
					    }	
                    ],
                    "response": {
                        "format": "json-stat"

                    }

                },function(data) {
                    chart5bData = data;
                    drawChart5();
                    startAnimatingChart5();
                } );
            }








//---------------------------------------------------------
//                                CHART 6
//---------------------------------------------------------

            var chart6;
            var chart6Data;
            var chart6CreatedSeries;
            var chart6_last_month;
            var chart6Timeout0;
            var chart6Timeout1;
            var chart6Timeout2;
            var chart6Timeout3;

            function startAnimatingChart6() {
                clearTimeout(chart6Timeout0);
                clearTimeout(chart6Timeout1);
                clearTimeout(chart6Timeout2);
                clearTimeout(chart6Timeout3);

                drawChart6();

                chart6Timeout0 = setTimeout(function() {
                    chart6.addSeries(chart6CreatedSeries[0]);
                }, 0);
                chart6Timeout1 = setTimeout(function() {
                    chart6.addSeries(chart6CreatedSeries[1]);
                }, 2000);
                chart6Timeout2 = setTimeout(function() {
                    chart6.addSeries(chart6CreatedSeries[2]);
                }, 4000);

                chart6Timeout3 =setTimeout(function () {
                    chart6.update({xAxis: {
                        min: null,
                        max:null,
                    }});
                }, 25000);
            }

            //Chart 6 specific functions
            function drawChart6() {

                var jsonStatData = chart6Data;
                var jsonStatUtflutningurData= chart6bData;


                //Extrat Data From JSON Stat

                ds = JSONstat(jsonStatData).Dataset(0);


                dsutflutningur = JSONstat(jsonStatUtflutningurData).Dataset(0);

                t = dsutflutningur.Dimension("year").length - 1;
                year = dsutflutningur.Dimension("year").id;

                yearinnflutningur = ds.Dimension("year").id;
                yearinnflutningurlength = yearinnflutningur.length
                var fLen = year.length;

                yearinnflutningurutflutningurdifference = yearinnflutningurlength - fLen;


                //Format Data

                var innflutningurdata = [];
                var utflutningurdata = [];
                var nettoflytingdata = [];

                var yaxisinnflutningur = [];
                var yaxisutflutningur = [];



				

                for (var i = 0; i < fLen; i++) {

		            innflutningur = ds.Data({ "year": ds.Dimension("year").id[i] }, false);



                    utflutningur = dsutflutningur.Data({ "year": dsutflutningur.Dimension("year").id[i] }, false);

                    innflutningurdata.push([Date.parse(year[i]), -innflutningur/1000]);


                    utflutningurdata.push([Date.parse(year[i]), utflutningur/1000]);
                    nettoflytingdata.push([Date.parse(year[i]), (utflutningur - innflutningur)/1000]);



                }




                //Build Series
                var createdSeries = [{
                    name: "Útflutningur",
                    data: utflutningurdata,
                    color: "#7fb800",
                    borderWidth: 0,
                    tooltip: {
                        valueDecimals: 0
                    }
                }, {
                    name: "Innflutningur",
                    data: innflutningurdata,
                    color: "#00a6ed",
                    borderWidth: 0,

                    tooltip: {
                        valueDecimals: 0
                    }
                }, {
                    name: "Handilsjavni",
                    type: "spline",
                    data: nettoflytingdata,
                    color: "#fff",
                    borderWidth: 0,
                    tooltip: {
                        valueDecimals: 0
                    },
                    marker: {
                        enabled: false
                    }
                }];
                chart6CreatedSeries = createdSeries;


                //Build Title
                var title = ds.label;

                //Build subtitle
                var subtitle = ds.source;

                //Build Tooltip
                var tooltipFunction = function () {
                    var s = "<b>" + Highcharts.dateFormat("%Y-%b", this.x) + "</b>";
                    $.each(this.points,
                        function (i, point) {
                            s += "<br/>" + point.series.name + ": " + Highcharts.numberFormat(point.y, 0.0, ",", ".");
                        });

                    return s;
                }

                //Build Chart
                $("#chart6").highcharts({
                    credits: {
                        enabled: false
                    },
                    chart: {
                        type: "column",
                        backgroundColor: "rgba(255, 255, 255, 0)",
                        borderWidth: 0,
                        renderTo: "container",
                        events: {
                            load: function () {
                                chart6 = this;
                            }

                        }
                    },
                    rangeSelector: {
                        enabled: false
                    },

                    exporting: {
                        enabled: false
                    },

                    navigator: {
                        enabled: false
                    },
                    title: {
                        text: ""
                    },
                    legend: {
                        layout: "horizontal",
                        align: "center",
                        verticalAlign: "top",

                        itemStyle: {
                            color: "#fff",
                            fontWeight: "normal"
                        }
                    },
                    xAxis: {
                        title: {
                            enabled: false
                        },
                        type: "datetime",
                        labels: {
                            style: {
                                color: "#fff",
                                fontSize: "11px"
                            }
                        },

                    },
                    yAxis: {
                        title: {
                            text: "",
                            style: {
                                color: "#fff",
                                fontWeight: "normal",
                                fontSize: "12px"
                            }
                        },
                        lineColor: "#fff",
                        tickColor: "#fff",
                        labels: {
                            formatter: function () {
                                return Highcharts.numberFormat(Math.abs(this.value),0);
                            },
                            style: {
                                color: "#fff",
                                font: "11px"
                            }
                        },
                    },
                    tooltip: {
                        enabled: false
                    },
                    plotOptions: {
                        series: {
                            stacking: "normal",
                            showInNavigator: true,
                            dataGrouping:{
                                enabled: true,
                                approximation: "sum",
                                units:[ ["year", null]]
                            }
                        },

                        

                    },
                    series: []
                });
            }

            function loadDataAndBuildChart6() {
                POST("https://statbank.hagstova.fo/api/v1/fo/H2/UH/UH01/uh_innlond.px", {
                    "query": [
					    {
					      "code": "country of origin",
					      "selection": {
					        "filter": "item",
					        "values": [
					          "400"
					        ]
					      }
					    },
					    {
					      "code": "year",
					      "selection": {
					        "filter": "all",
					        "values": [
					          "*"
					        ]
					      }
					    }					    
                    ],
                    "response": {
                        "format": "json-stat"

                    }

                },function(data) {
                    chart6Data = data;
                    loadDataAndBuildChart6b();
                } );
            }


            function loadDataAndBuildChart6b() {
                POST("https://statbank.hagstova.fo/api/v1/fo/H2/UH/UH01/uh_utlond.px", {
                    "query": [
                        {
					      "code": "country of final destination",
					      "selection": {
					        "filter": "item",
					        "values": [
					          "400"
					        ]
					      }
					    },
					    {
					      "code": "year",
					      "selection": {
					        "filter": "all",
					        "values": [
					          "*"
					        ]
					      }
					    }	
                    ],
                    "response": {
                        "format": "json-stat"

                    }

                },function(data) {
                    chart6bData = data;
                    drawChart6();
                    startAnimatingChart6();
                } );
            }











//---------------------------------------------------------
//                                CHART 7
//---------------------------------------------------------

            var chart7;
            var chart7Data;
            var chart7CreatedSeries;
            var chart7_last_month;
            var chart7Timeout0;
            var chart7Timeout1;
            var chart7Timeout2;
            var chart7Timeout3;

            function startAnimatingChart7() {
                clearTimeout(chart7Timeout0);
                clearTimeout(chart7Timeout1);
                clearTimeout(chart7Timeout2);
                clearTimeout(chart7Timeout3);

                drawChart7();

                chart7Timeout0 = setTimeout(function() {
                    chart7.addSeries(chart7CreatedSeries[0]);
                }, 0);
                chart7Timeout1 = setTimeout(function() {
                    chart7.addSeries(chart7CreatedSeries[1]);
                }, 2000);
                chart7Timeout2 = setTimeout(function() {
                    chart7.addSeries(chart7CreatedSeries[2]);
                }, 4000);

                chart7Timeout3 =setTimeout(function () {
                    chart7.update({xAxis: {
                        min: null,
                        max:null,
                    }});
                }, 25000);
            }

            //Chart 7 specific functions
            function drawChart7() {

                var jsonStatData = chart7Data;
                var jsonStatUtflutningurData= chart7bData;


                //Extrat Data From JSON Stat

                ds = JSONstat(jsonStatData).Dataset(0);


                dsutflutningur = JSONstat(jsonStatUtflutningurData).Dataset(0);

                t = dsutflutningur.Dimension("year").length - 1;
                year = dsutflutningur.Dimension("year").id;

                yearinnflutningur = ds.Dimension("year").id;
                yearinnflutningurlength = yearinnflutningur.length
                var fLen = year.length;

                yearinnflutningurutflutningurdifference = yearinnflutningurlength - fLen;


                //Format Data

                var innflutningurdata = [];
                var utflutningurdata = [];
                var nettoflytingdata = [];

                var yaxisinnflutningur = [];
                var yaxisutflutningur = [];



				

                for (var i = 0; i < fLen; i++) {

		            innflutningur = ds.Data({ "year": ds.Dimension("year").id[i] }, false);



                    utflutningur = dsutflutningur.Data({ "year": dsutflutningur.Dimension("year").id[i] }, false);

                    innflutningurdata.push([Date.parse(year[i]), -innflutningur/1000]);


                    utflutningurdata.push([Date.parse(year[i]), utflutningur/1000]);
                    nettoflytingdata.push([Date.parse(year[i]), (utflutningur - innflutningur)/1000]);



                }




                //Build Series
                var createdSeries = [{
                    name: "Útflutningur",
                    data: utflutningurdata,
                    color: "#7fb800",
                    borderWidth: 0,
                    tooltip: {
                        valueDecimals: 0
                    }
                }, {
                    name: "Innflutningur",
                    data: innflutningurdata,
                    color: "#00a6ed",
                    borderWidth: 0,

                    tooltip: {
                        valueDecimals: 0
                    }
                }, {
                    name: "Handilsjavni",
                    type: "spline",
                    data: nettoflytingdata,
                    color: "#fff",
                    borderWidth: 0,
                    tooltip: {
                        valueDecimals: 0
                    },
                    marker: {
                        enabled: false
                    }
                }];
                chart7CreatedSeries = createdSeries;


                //Build Title
                var title = ds.label;

                //Build subtitle
                var subtitle = ds.source;

                //Build Tooltip
                var tooltipFunction = function () {
                    var s = "<b>" + Highcharts.dateFormat("%Y-%b", this.x) + "</b>";
                    $.each(this.points,
                        function (i, point) {
                            s += "<br/>" + point.series.name + ": " + Highcharts.numberFormat(point.y, 0.0, ",", ".");
                        });

                    return s;
                }

                //Build Chart
                $("#chart7").highcharts({
                    credits: {
                        enabled: false
                    },
                    chart: {
                        type: "column",
                        backgroundColor: "rgba(255, 255, 255, 0)",
                        borderWidth: 0,
                        renderTo: "container",
                        events: {
                            load: function () {
                                chart7 = this;
                            }

                        }
                    },
                    rangeSelector: {
                        enabled: false
                    },

                    exporting: {
                        enabled: false
                    },

                    navigator: {
                        enabled: false
                    },
                    title: {
                        text: ""
                    },
                    legend: {
                        layout: "horizontal",
                        align: "center",
                        verticalAlign: "top",

                        itemStyle: {
                            color: "#fff",
                            fontWeight: "normal"
                        }
                    },
                    xAxis: {
                        title: {
                            enabled: false
                        },
                        type: "datetime",
                        labels: {
                            style: {
                                color: "#fff",
                                fontSize: "11px"
                            }
                        },

                    },
                    yAxis: {
                        title: {
                            text: "",
                            style: {
                                color: "#fff",
                                fontWeight: "normal",
                                fontSize: "12px"
                            }
                        },
                        lineColor: "#fff",
                        tickColor: "#fff",
                        labels: {
                            formatter: function () {
                                return Highcharts.numberFormat(Math.abs(this.value),0);
                            },
                            style: {
                                color: "#fff",
                                font: "11px"
                            }
                        },
                    },
                    tooltip: {
                        enabled: false
                    },
                    plotOptions: {
                        series: {
                            stacking: "normal",
                            showInNavigator: true,
                            dataGrouping:{
                                enabled: true,
                                approximation: "sum",
                                units:[ ["year", null]]
                            }
                        },

                        

                    },
                    series: []
                });
            }

            function loadDataAndBuildChart7() {
                POST("https://statbank.hagstova.fo/api/v1/fo/H2/UH/UH01/uh_innlond.px", {
                    "query": [
					    {
					      "code": "country of origin",
					      "selection": {
					        "filter": "item",
					        "values": [
					          "006"
					        ]
					      }
					    },
					    {
					      "code": "year",
					      "selection": {
					        "filter": "all",
					        "values": [
					          "*"
					        ]
					      }
					    }					    
                    ],
                    "response": {
                        "format": "json-stat"

                    }

                },function(data) {
                    chart7Data = data;
                    loadDataAndBuildChart7b();
                } );
            }


            function loadDataAndBuildChart7b() {
                POST("https://statbank.hagstova.fo/api/v1/fo/H2/UH/UH01/uh_utlond.px", {
                    "query": [
                        {
					      "code": "country of final destination",
					      "selection": {
					        "filter": "item",
					        "values": [
					          "006"
					        ]
					      }
					    },
					    {
					      "code": "year",
					      "selection": {
					        "filter": "all",
					        "values": [
					          "*"
					        ]
					      }
					    }	
                    ],
                    "response": {
                        "format": "json-stat"

                    }

                },function(data) {
                    chart7bData = data;
                    drawChart7();
                    startAnimatingChart7();
                } );
            }












//---------------------------------------------------------
//                                CHART 11
//---------------------------------------------------------

            var chart11;
            var chart11Data;
            var chart11CreatedSeries;
            var chart11_last_month;
            var chart11Timeout0;
            var chart11Timeout1;
            var chart11Timeout2;
            var chart11Timeout3;

            function startAnimatingChart11() {
                clearTimeout(chart11Timeout0);
                clearTimeout(chart11Timeout1);
                clearTimeout(chart11Timeout2);
                clearTimeout(chart11Timeout3);

                drawChart11();

                chart11Timeout0 = setTimeout(function() {
                    chart11.addSeries(chart11CreatedSeries[0]);
                }, 0);
                chart11Timeout1 = setTimeout(function() {
                    chart11.addSeries(chart11CreatedSeries[1]);
                }, 2000);
                chart11Timeout2 = setTimeout(function() {
                    chart11.addSeries(chart11CreatedSeries[2]);
                }, 4000);

                chart11Timeout3 =setTimeout(function () {
                    chart11.update({xAxis: {
                        min: null,
                        max:null,
                    }});
                }, 25000);
            }

            //Chart 11 specific functions
            function drawChart11() {

                var jsonStatData = chart11Data;
                var jsonStatUtflutningurData= chart11bData;


                //Extrat Data From JSON Stat

                ds = JSONstat(jsonStatData).Dataset(0);


                dsutflutningur = JSONstat(jsonStatUtflutningurData).Dataset(0);

                t = dsutflutningur.Dimension("year").length - 1;
                year = dsutflutningur.Dimension("year").id;

                yearinnflutningur = ds.Dimension("year").id;
                yearinnflutningurlength = yearinnflutningur.length
                var fLen = year.length;

                yearinnflutningurutflutningurdifference = yearinnflutningurlength - fLen;


                //Format Data

                var innflutningurdata = [];
                var utflutningurdata = [];
                var nettoflytingdata = [];

                var yaxisinnflutningur = [];
                var yaxisutflutningur = [];



                

                for (var i = 0; i < fLen; i++) {

                    innflutningur = ds.Data({ "year": ds.Dimension("year").id[i] }, false);

                    utflutningur = dsutflutningur.Data({ "year": dsutflutningur.Dimension("year").id[i] }, false);

                    innflutningurdata.push([Date.parse(year[i]), -innflutningur/1000]);

                    utflutningurdata.push([Date.parse(year[i]), utflutningur/1000]);
                    nettoflytingdata.push([Date.parse(year[i]), (utflutningur - innflutningur)/1000]);



                }




                //Build Series
                var createdSeries = [{
                    name: "Útflutningur",
                    data: utflutningurdata,
                    color: "#7fb800",
                    borderWidth: 0,
                    tooltip: {
                        valueDecimals: 0
                    }
                }, {
                    name: "Innflutningur",
                    data: innflutningurdata,
                    color: "#00a6ed",
                    borderWidth: 0,

                    tooltip: {
                        valueDecimals: 0
                    }
                }, {
                    name: "Handilsjavni",
                    type: "spline",
                    data: nettoflytingdata,
                    color: "#fff",
                    borderWidth: 0,
                    tooltip: {
                        valueDecimals: 0
                    },
                    marker: {
                        enabled: false
                    }
                }];
                chart11CreatedSeries = createdSeries;


                //Build Title
                var title = ds.label;

                //Build subtitle
                var subtitle = ds.source;

                //Build Tooltip
                var tooltipFunction = function () {
                    var s = "<b>" + Highcharts.dateFormat("%Y-%b", this.x) + "</b>";
                    $.each(this.points,
                        function (i, point) {
                            s += "<br/>" + point.series.name + ": " + Highcharts.numberFormat(point.y, 0.0, ",", ".");
                        });

                    return s;
                }

                //Build Chart
                $("#chart11").highcharts({
                    credits: {
                        enabled: false
                    },
                    chart: {
                        type: "column",
                        backgroundColor: "rgba(255, 255, 255, 0)",
                        borderWidth: 0,
                        renderTo: "container",
                        events: {
                            load: function () {
                                chart11 = this;
                            }

                        }
                    },
                    rangeSelector: {
                        enabled: false
                    },

                    exporting: {
                        enabled: false
                    },

                    navigator: {
                        enabled: false
                    },
                    title: {
                        text: ""
                    },
                    legend: {
                        layout: "horizontal",
                        align: "center",
                        verticalAlign: "top",

                        itemStyle: {
                            color: "#fff",
                            fontWeight: "normal"
                        }
                    },
                    xAxis: {
                        title: {
                            enabled: false
                        },
                        type: "datetime",
                        labels: {
                            style: {
                                color: "#fff",
                                fontSize: "11px"
                            }
                        },

                    },
                    yAxis: {
                        title: {
                            text: "",
                            style: {
                                color: "#fff",
                                fontWeight: "normal",
                                fontSize: "12px"
                            }
                        },
                        lineColor: "#fff",
                        tickColor: "#fff",
                        labels: {
                            formatter: function () {
                                return Highcharts.numberFormat(Math.abs(this.value),0);
                            },
                            style: {
                                color: "#fff",
                                font: "11px"
                            }
                        },
                    },
                    tooltip: {
                        enabled: false
                    },
                    plotOptions: {
                        series: {
                            stacking: "normal",
                            showInNavigator: true,
                            dataGrouping:{
                                enabled: true,
                                approximation: "sum",
                                units:[ ["year", null]]
                            }
                        },

                        

                    },
                    series: []
                });
            }

            function loadDataAndBuildChart11() {
                POST("https://statbank.hagstova.fo/api/v1/fo/H2/UH/UH01/uh_innlond.px", {
                    "query": [
                        {
                          "code": "country of origin",
                          "selection": {
                            "filter": "item",
                            "values": [
                              "008"
                            ]
                          }
                        },
                        {
                          "code": "year",
                          "selection": {
                            "filter": "all",
                            "values": [
                              "*"
                            ]
                          }
                        }                       
                    ],
                    "response": {
                        "format": "json-stat"

                    }

                },function(data) {
                    chart11Data = data;
                    loadDataAndBuildChart11b();
                } );
            }


            function loadDataAndBuildChart11b() {
                POST("https://statbank.hagstova.fo/api/v1/fo/H2/UH/UH01/uh_utlond.px", {
                    "query": [
                        {
                          "code": "country of final destination",
                          "selection": {
                            "filter": "item",
                            "values": [
                              "008"
                            ]
                          }
                        },
                        {
                          "code": "year",
                          "selection": {
                            "filter": "all",
                            "values": [
                              "*"
                            ]
                          }
                        }   
                    ],
                    "response": {
                        "format": "json-stat"

                    }

                },function(data) {
                    chart11bData = data;
                    drawChart11();
                    startAnimatingChart11();
                } );
            }










//---------------------------------------------------------
//                                CHART 12
//---------------------------------------------------------

            var chart12;
            var chart12Data;
            var chart12CreatedSeries;
            var chart12_last_month;
            var chart12Timeout0;
            var chart12Timeout1;
            var chart12Timeout2;
            var chart12Timeout3;

            function startAnimatingChart12() {
                clearTimeout(chart12Timeout0);
                clearTimeout(chart12Timeout1);
                clearTimeout(chart12Timeout2);
                clearTimeout(chart12Timeout3);

                drawChart12();

                chart12Timeout0 = setTimeout(function() {
                    chart12.addSeries(chart12CreatedSeries[0]);
                }, 0);
                chart12Timeout1 = setTimeout(function() {
                    chart12.addSeries(chart12CreatedSeries[1]);
                }, 2000);
                chart12Timeout2 = setTimeout(function() {
                    chart12.addSeries(chart12CreatedSeries[2]);
                }, 4000);

                chart12Timeout3 =setTimeout(function () {
                    chart12.update({xAxis: {
                        min: null,
                        max:null,
                    }});
                }, 25000);
            }

            //Chart 12 specific functions
            function drawChart12() {

                var jsonStatData = chart12Data;
                var jsonStatUtflutningurData= chart12bData;


                //Extrat Data From JSON Stat

                ds = JSONstat(jsonStatData).Dataset(0);


                dsutflutningur = JSONstat(jsonStatUtflutningurData).Dataset(0);

                t = dsutflutningur.Dimension("year").length - 1;
                year = dsutflutningur.Dimension("year").id;

                yearinnflutningur = ds.Dimension("year").id;
                yearinnflutningurlength = yearinnflutningur.length
                var fLen = year.length;

                yearinnflutningurutflutningurdifference = yearinnflutningurlength - fLen;


                //Format Data

                var innflutningurdata = [];
                var utflutningurdata = [];
                var nettoflytingdata = [];

                var yaxisinnflutningur = [];
                var yaxisutflutningur = [];



                

                for (var i = 0; i < fLen; i++) {

                    innflutningur = ds.Data({ "year": ds.Dimension("year").id[i] }, false);



                    utflutningur = dsutflutningur.Data({ "year": dsutflutningur.Dimension("year").id[i] }, false);

                    innflutningurdata.push([Date.parse(year[i]), -innflutningur/1000]);


                    utflutningurdata.push([Date.parse(year[i]), utflutningur/1000]);
                    nettoflytingdata.push([Date.parse(year[i]), (utflutningur - innflutningur)/1000]);



                }




                //Build Series
                var createdSeries = [{
                    name: "Útflutningur",
                    data: utflutningurdata,
                    color: "#7fb800",
                    borderWidth: 0,
                    tooltip: {
                        valueDecimals: 0
                    }
                }, {
                    name: "Innflutningur",
                    data: innflutningurdata,
                    color: "#00a6ed",
                    borderWidth: 0,

                    tooltip: {
                        valueDecimals: 0
                    }
                }, {
                    name: "Handilsjavni",
                    type: "spline",
                    data: nettoflytingdata,
                    color: "#fff",
                    borderWidth: 0,
                    tooltip: {
                        valueDecimals: 0
                    },
                    marker: {
                        enabled: false
                    }
                }];
                chart12CreatedSeries = createdSeries;


                //Build Title
                var title = ds.label;

                //Build subtitle
                var subtitle = ds.source;

                //Build Tooltip
                var tooltipFunction = function () {
                    var s = "<b>" + Highcharts.dateFormat("%Y-%b", this.x) + "</b>";
                    $.each(this.points,
                        function (i, point) {
                            s += "<br/>" + point.series.name + ": " + Highcharts.numberFormat(point.y, 0.0, ",", ".");
                        });

                    return s;
                }

                //Build Chart
                $("#chart12").highcharts({
                    credits: {
                        enabled: false
                    },
                    chart: {
                        type: "column",
                        backgroundColor: "rgba(255, 255, 255, 0)",
                        borderWidth: 0,
                        renderTo: "container",
                        events: {
                            load: function () {
                                chart12 = this;
                            }

                        }
                    },
                    rangeSelector: {
                        enabled: false
                    },

                    exporting: {
                        enabled: false
                    },

                    navigator: {
                        enabled: false
                    },
                    title: {
                        text: ""
                    },
                    legend: {
                        layout: "horizontal",
                        align: "center",
                        verticalAlign: "top",

                        itemStyle: {
                            color: "#fff",
                            fontWeight: "normal"
                        }
                    },
                    xAxis: {
                        title: {
                            enabled: false
                        },
                        type: "datetime",
                        labels: {
                            style: {
                                color: "#fff",
                                fontSize: "11px"
                            }
                        },

                    },
                    yAxis: {
                        title: {
                            text: "",
                            style: {
                                color: "#fff",
                                fontWeight: "normal",
                                fontSize: "12px"
                            }
                        },
                        lineColor: "#fff",
                        tickColor: "#fff",
                        labels: {
                            formatter: function () {
                                return Highcharts.numberFormat(Math.abs(this.value),0);
                            },
                            style: {
                                color: "#fff",
                                font: "11px"
                            }
                        },
                    },
                    tooltip: {
                        enabled: false
                    },
                    plotOptions: {
                        series: {
                            stacking: "normal",
                            showInNavigator: true,
                            dataGrouping:{
                                enabled: true,
                                approximation: "sum",
                                units:[ ["year", null]]
                            }
                        },

                        

                    },
                    series: []
                });
            }

            function loadDataAndBuildChart12() {
                POST("https://statbank.hagstova.fo/api/v1/fo/H2/UH/UH01/uh_innlond.px", {
                    "query": [
                        {
                          "code": "country of origin",
                          "selection": {
                            "filter": "item",
                            "values": [
                              "004"
                            ]
                          }
                        },
                        {
                          "code": "year",
                          "selection": {
                            "filter": "all",
                            "values": [
                              "*"
                            ]
                          }
                        }                       
                    ],
                    "response": {
                        "format": "json-stat"

                    }

                },function(data) {
                    chart12Data = data;
                    loadDataAndBuildChart12b();
                } );
            }


            function loadDataAndBuildChart12b() {
                POST("https://statbank.hagstova.fo/api/v1/fo/H2/UH/UH01/uh_utlond.px", {
                    "query": [
                        {
                          "code": "country of final destination",
                          "selection": {
                            "filter": "item",
                            "values": [
                              "004"
                            ]
                          }
                        },
                        {
                          "code": "year",
                          "selection": {
                            "filter": "all",
                            "values": [
                              "*"
                            ]
                          }
                        }   
                    ],
                    "response": {
                        "format": "json-stat"

                    }

                },function(data) {
                    chart12bData = data;
                    drawChart12();
                    startAnimatingChart12();
                } );
            }







//---------------------------------------------------------
//                                CHART 13
//---------------------------------------------------------

            var chart13;
            var chart13Data;
            var chart13CreatedSeries;
            var chart13_last_month;
            var chart13Timeout0;
            var chart13Timeout1;
            var chart13Timeout2;
            var chart13Timeout3;

            function startAnimatingChart13() {
                clearTimeout(chart13Timeout0);
                clearTimeout(chart13Timeout1);
                clearTimeout(chart13Timeout2);
                clearTimeout(chart13Timeout3);

                drawChart13();

                chart13Timeout0 = setTimeout(function() {
                    chart13.addSeries(chart13CreatedSeries[0]);
                }, 0);
                chart13Timeout1 = setTimeout(function() {
                    chart13.addSeries(chart13CreatedSeries[1]);
                }, 2000);
                chart13Timeout2 = setTimeout(function() {
                    chart13.addSeries(chart13CreatedSeries[2]);
                }, 4000);

                chart13Timeout3 =setTimeout(function () {
                    chart13.update({xAxis: {
                        min: null,
                        max:null,
                    }});
                }, 25000);
            }

            //Chart 13 specific functions
            function drawChart13() {

                var jsonStatData = chart13Data;
                var jsonStatUtflutningurData= chart13bData;


                //Extrat Data From JSON Stat

                ds = JSONstat(jsonStatData).Dataset(0);


                dsutflutningur = JSONstat(jsonStatUtflutningurData).Dataset(0);

                t = dsutflutningur.Dimension("year").length - 1;
                year = dsutflutningur.Dimension("year").id;

                yearinnflutningur = ds.Dimension("year").id;
                yearinnflutningurlength = yearinnflutningur.length
                var fLen = year.length;

                yearinnflutningurutflutningurdifference = yearinnflutningurlength - fLen;


                //Format Data

                var innflutningurdata = [];
                var utflutningurdata = [];
                var nettoflytingdata = [];

                var yaxisinnflutningur = [];
                var yaxisutflutningur = [];



                

                for (var i = 0; i < fLen; i++) {

                    innflutningur = ds.Data({ "year": ds.Dimension("year").id[i] }, false);



                    utflutningur = dsutflutningur.Data({ "year": dsutflutningur.Dimension("year").id[i] }, false);

                    innflutningurdata.push([Date.parse(year[i]), -innflutningur/1000]);


                    utflutningurdata.push([Date.parse(year[i]), utflutningur/1000]);
                    nettoflytingdata.push([Date.parse(year[i]), (utflutningur - innflutningur)/1000]);



                }




                //Build Series
                var createdSeries = [{
                    name: "Útflutningur",
                    data: utflutningurdata,
                    color: "#7fb800",
                    borderWidth: 0,
                    tooltip: {
                        valueDecimals: 0
                    }
                }, {
                    name: "Innflutningur",
                    data: innflutningurdata,
                    color: "#00a6ed",
                    borderWidth: 0,

                    tooltip: {
                        valueDecimals: 0
                    }
                }, {
                    name: "Handilsjavni",
                    type: "spline",
                    data: nettoflytingdata,
                    color: "#fff",
                    borderWidth: 0,
                    tooltip: {
                        valueDecimals: 0
                    },
                    marker: {
                        enabled: false
                    }
                }];
                chart13CreatedSeries = createdSeries;


                //Build Title
                var title = ds.label;

                //Build subtitle
                var subtitle = ds.source;

                //Build Tooltip
                var tooltipFunction = function () {
                    var s = "<b>" + Highcharts.dateFormat("%Y-%b", this.x) + "</b>";
                    $.each(this.points,
                        function (i, point) {
                            s += "<br/>" + point.series.name + ": " + Highcharts.numberFormat(point.y, 0.0, ",", ".");
                        });

                    return s;
                }

                //Build Chart
                $("#chart13").highcharts({
                    credits: {
                        enabled: false
                    },
                    chart: {
                        type: "column",
                        backgroundColor: "rgba(255, 255, 255, 0)",
                        borderWidth: 0,
                        renderTo: "container",
                        events: {
                            load: function () {
                                chart13 = this;
                            }

                        }
                    },
                    rangeSelector: {
                        enabled: false
                    },

                    exporting: {
                        enabled: false
                    },

                    navigator: {
                        enabled: false
                    },
                    title: {
                        text: ""
                    },
                    legend: {
                        layout: "horizontal",
                        align: "center",
                        verticalAlign: "top",

                        itemStyle: {
                            color: "#fff",
                            fontWeight: "normal"
                        }
                    },
                    xAxis: {
                        title: {
                            enabled: false
                        },
                        type: "datetime",
                        labels: {
                            style: {
                                color: "#fff",
                                fontSize: "11px"
                            }
                        },

                    },
                    yAxis: {
                        title: {
                            text: "",
                            style: {
                                color: "#fff",
                                fontWeight: "normal",
                                fontSize: "12px"
                            }
                        },
                        lineColor: "#fff",
                        tickColor: "#fff",
                        labels: {
                            formatter: function () {
                                return Highcharts.numberFormat(Math.abs(this.value),0);
                            },
                            style: {
                                color: "#fff",
                                font: "11px"
                            }
                        },
                    },
                    tooltip: {
                        enabled: false
                    },
                    plotOptions: {
                        series: {
                            stacking: "normal",
                            showInNavigator: true,
                            dataGrouping:{
                                enabled: true,
                                approximation: "sum",
                                units:[ ["year", null]]
                            }
                        },

                        

                    },
                    series: []
                });
            }

            function loadDataAndBuildChart13() {
                POST("https://statbank.hagstova.fo/api/v1/fo/H2/UH/UH01/uh_innlond.px", {
                    "query": [
                        {
                          "code": "country of origin",
                          "selection": {
                            "filter": "item",
                            "values": [
                              "028"
                            ]
                          }
                        },
                        {
                          "code": "year",
                          "selection": {
                            "filter": "all",
                            "values": [
                              "*"
                            ]
                          }
                        }                       
                    ],
                    "response": {
                        "format": "json-stat"

                    }

                },function(data) {
                    chart13Data = data;
                    loadDataAndBuildChart13b();
                } );
            }


            function loadDataAndBuildChart13b() {
                POST("https://statbank.hagstova.fo/api/v1/fo/H2/UH/UH01/uh_utlond.px", {
                    "query": [
                        {
                          "code": "country of final destination",
                          "selection": {
                            "filter": "item",
                            "values": [
                              "028"
                            ]
                          }
                        },
                        {
                          "code": "year",
                          "selection": {
                            "filter": "all",
                            "values": [
                              "*"
                            ]
                          }
                        }   
                    ],
                    "response": {
                        "format": "json-stat"

                    }

                },function(data) {
                    chart13bData = data;
                    drawChart13();
                    startAnimatingChart13();
                } );
            }







//---------------------------------------------------------
//                                CHART 14
//---------------------------------------------------------

            var chart14;
            var chart14Data;
            var chart14CreatedSeries;
            var chart14_last_month;
            var chart14Timeout0;
            var chart14Timeout1;
            var chart14Timeout2;
            var chart14Timeout3;

            function startAnimatingChart14() {
                clearTimeout(chart14Timeout0);
                clearTimeout(chart14Timeout1);
                clearTimeout(chart14Timeout2);
                clearTimeout(chart14Timeout3);

                drawChart14();

                chart14Timeout0 = setTimeout(function() {
                    chart14.addSeries(chart14CreatedSeries[0]);
                }, 0);
                chart14Timeout1 = setTimeout(function() {
                    chart14.addSeries(chart14CreatedSeries[1]);
                }, 2000);
                chart14Timeout2 = setTimeout(function() {
                    chart14.addSeries(chart14CreatedSeries[2]);
                }, 4000);

                chart14Timeout3 =setTimeout(function () {
                    chart14.update({xAxis: {
                        min: null,
                        max:null,
                    }});
                }, 25000);
            }

            //Chart 14 specific functions
            function drawChart14() {

                var jsonStatData = chart14Data;
                var jsonStatUtflutningurData= chart14bData;


                //Extract Data From JSON Stat

                ds = JSONstat(jsonStatData).Dataset(0);


                dsutflutningur = JSONstat(jsonStatUtflutningurData).Dataset(0);

                t = dsutflutningur.Dimension("year").length - 1;
                year = dsutflutningur.Dimension("year").id;

                yearinnflutningur = ds.Dimension("year").id;
                yearinnflutningurlength = yearinnflutningur.length
                var fLen = year.length;

                yearinnflutningurutflutningurdifference = yearinnflutningurlength - fLen;


                //Format Data

                var innflutningurdata = [];
                var utflutningurdata = [];
                var nettoflytingdata = [];

                var yaxisinnflutningur = [];
                var yaxisutflutningur = [];



                

                for (var i = 0; i < fLen; i++) {

                    innflutningur = ds.Data({ "year": ds.Dimension("year").id[i] }, false);



                    utflutningur = dsutflutningur.Data({ "year": dsutflutningur.Dimension("year").id[i] }, false);

                    innflutningurdata.push([Date.parse(year[i]), -innflutningur/1000]);


                    utflutningurdata.push([Date.parse(year[i]), utflutningur/1000]);
                    nettoflytingdata.push([Date.parse(year[i]), (utflutningur - innflutningur)/1000]);



                }




                //Build Series
                var createdSeries = [{
                    name: "Útflutningur",
                    data: utflutningurdata,
                    color: "#7fb800",
                    borderWidth: 0,
                    tooltip: {
                        valueDecimals: 0
                    }
                }, {
                    name: "Innflutningur",
                    data: innflutningurdata,
                    color: "#00a6ed",
                    borderWidth: 0,

                    tooltip: {
                        valueDecimals: 0
                    }
                }, {
                    name: "Handilsjavni",
                    type: "spline",
                    data: nettoflytingdata,
                    color: "#fff",
                    borderWidth: 0,
                    tooltip: {
                        valueDecimals: 0
                    },
                    marker: {
                        enabled: false
                    }
                }];
                chart14CreatedSeries = createdSeries;


                //Build Title
                var title = ds.label;

                //Build subtitle
                var subtitle = ds.source;

                //Build Tooltip
                var tooltipFunction = function () {
                    var s = "<b>" + Highcharts.dateFormat("%Y-%b", this.x) + "</b>";
                    $.each(this.points,
                        function (i, point) {
                            s += "<br/>" + point.series.name + ": " + Highcharts.numberFormat(point.y, 0.0, ",", ".");
                        });

                    return s;
                }

                //Build Chart
                $("#chart14").highcharts({
                    credits: {
                        enabled: false
                    },
                    chart: {
                        type: "column",
                        backgroundColor: "rgba(255, 255, 255, 0)",
                        borderWidth: 0,
                        renderTo: "container",
                        events: {
                            load: function () {
                                chart14 = this;
                            }

                        }
                    },
                    rangeSelector: {
                        enabled: false
                    },

                    exporting: {
                        enabled: false
                    },

                    navigator: {
                        enabled: false
                    },
                    title: {
                        text: ""
                    },
                    legend: {
                        layout: "horizontal",
                        align: "center",
                        verticalAlign: "top",

                        itemStyle: {
                            color: "#fff",
                            fontWeight: "normal"
                        }
                    },
                    xAxis: {
                        title: {
                            enabled: false
                        },
                        type: "datetime",
                        labels: {
                            style: {
                                color: "#fff",
                                fontSize: "11px"
                            }
                        },

                    },
                    yAxis: {
                        title: {
                            text: "",
                            style: {
                                color: "#fff",
                                fontWeight: "normal",
                                fontSize: "12px"
                            }
                        },
                        lineColor: "#fff",
                        tickColor: "#fff",
                        labels: {
                            formatter: function () {
                                return Highcharts.numberFormat(Math.abs(this.value),0);
                            },
                            style: {
                                color: "#fff",
                                font: "11px"
                            }
                        },
                    },
                    tooltip: {
                        enabled: false
                    },
                    plotOptions: {
                        series: {
                            stacking: "normal",
                            showInNavigator: true,
                            dataGrouping:{
                                enabled: true,
                                approximation: "sum",
                                units:[ ["year", null]]
                            }
                        },

                        

                    },
                    series: []
                });
            }

            function loadDataAndBuildChart14() {
                POST("https://statbank.hagstova.fo/api/v1/fo/H2/UH/UH01/uh_innlond.px", {
                    "query": [
                        {
                          "code": "country of origin",
                          "selection": {
                            "filter": "agg:ES28.agg",
                            "values": [
                              "ES-28"
                            ]
                          }
                        },
                        {
                          "code": "year",
                          "selection": {
                            "filter": "all",
                            "values": [
                              "*"
                            ]
                          }
                        }                       
                    ],
                    "response": {
                        "format": "json-stat"

                    }

                },function(data) {
                    chart14Data = data;
                    loadDataAndBuildChart14b();
                } );
            }


            function loadDataAndBuildChart14b() {
                POST("https://statbank.hagstova.fo/api/v1/fo/H2/UH/UH01/uh_utlond.px", {
                    "query": [
                        {
                          "code": "country of final destination",
                          "selection": {
                            "filter": "agg:ES28.agg",
                            "values": [
                              "ES-28"
                            ]
                          }
                        },
                        {
                          "code": "year",
                          "selection": {
                            "filter": "all",
                            "values": [
                              "*"
                            ]
                          }
                        }   
                    ],
                    "response": {
                        "format": "json-stat"

                    }

                },function(data) {
                    chart14bData = data;
                    drawChart14();
                    startAnimatingChart14();
                } );
            }





            //HELPER FUNCTION
            function POST(url, query, main) {
                $.ajax({
                    type: "POST",
                    url: url,
                    data: JSON.stringify(query),
                    success: function(data) {
                        main(data);
                    }
                });
            }

            //START LOADING AND BUILDING CHARTS
            $(function () {
                loadDataAndBuildChart1();
                loadDataAndBuildChart2();
                loadDataAndBuildChart3();
                loadDataAndBuildChart5(); 
                loadDataAndBuildChart6();   
                loadDataAndBuildChart7();   
                loadDataAndBuildChart8();  
                loadDataAndBuildChart9();                                 
                loadDataAndBuildChart11();
                loadDataAndBuildChart12();   
                loadDataAndBuildChart13();     
                loadDataAndBuildChart14();                                                            
            });
</script>

<div class="reveal">
    <div class="slides">


        <section data-background="assets/utflutningur.jpg" data-autoslide="4000">
            <h1><img src="assets/hagstova_logo_white.svg" alt="Hagstova Føroya" class="logo" />Inn- og útflutningur</h1>
        </section>
        <section data-state="innutflutningur" data-background="assets/utflutningur.jpg">
            <div class="infobox blue">
                <div class="background"></div>
                <h2>Inn- og útflutningur<h2/>
                <p>í mió. kr.</p>
                    <div>
                        <div id="chart1"></div>
                    </div>
            </div>
        </section>


        <section data-background="assets/innflutningur.jpg" data-autoslide="4000">
            <h1><img src="assets/hagstova_logo_white.svg" alt="Hagstova Føroya" class="logo" />Innflutningur</h1>
        </section>
        <section data-state="innflutninguruttanskip" data-background="assets/innflutningur.jpg">
            <div class="infobox blue">
                <div class="background"></div>
                <h2>Innflutningur <h2/>
                <p>Uttan skip og flogfør. Í mió. kr.</p>
                    <div>
                        <div id="chart8"></div>
                    </div>
            </div>
        </section>    




        <section data-state="innflutningurslag" data-background="assets/innflutningur2.jpg">
            <div class="infobox blue">
                <div class="background"></div>
                <h2>Innflutt til vinnu- og húsarhald <h2/>
                <p>Í mió. kr.</p>
                    <div>
                        <div id="chart9"></div>
                    </div>
            </div>
        </section>             


        <section data-background="assets/fishmarket.jpg" data-autoslide="4000">
            <h1><img src="assets/hagstova_logo_white.svg" alt="Hagstova Føroya" class="logo" />Fiskavørur</h1>
        </section>
        <section data-state="utflutningur" data-background="assets/fishmarket.jpg">
            <div class="infobox blue left">
                <div class="background"></div>
                <h2>Útflutningur av fiskavørum<h2/>
                <p>í mió. kr.</p>
                    <div>
                        <div id="chart2"></div>
                    </div>
            </div>
        </section>        




        <section data-state="fiskavoruutflutningur" data-background="assets/fishmarket.jpg">
            <div class="infobox blue">
                <div class="background"></div>
                <h2>Útflutningur av fiskavørum<h2/>
                <p>í mió. kr.</p>
                    <div>
                        <div id="chart3"></div>
                    </div>
            </div>
        </section>




        <section data-background="assets/moscow.jpg" data-background-transition="fade" data-autoslide="4000">
            <h1><img src="assets/hagstova_logo_white.svg" alt="Hagstova Føroya" class="logo" />Russland</h1>
        </section>
        <section data-state="russland" data-background="assets/moscow.jpg"  data-autoslide="20000">
            <div class="infobox blue">
                <div class="background"></div>
                <h2>Samhandil við Russland<h2/>
                <p>í mió. kr.</p>
                    <div>
                        <div id="chart5"></div>
                    </div>
            </div>
        </section>





        <section data-background="assets/newyork.jpg" data-background-transition="fade" data-autoslide="4000">
            <h1><img src="assets/hagstova_logo_white.svg" alt="Hagstova Føroya" class="logo" />USA</h1>
        </section>
        <section data-state="usa" data-background="assets/newyork.jpg"  data-autoslide="20000">
            <div class="infobox blue">
                <div class="background"></div>
                <h2>Samhandil við USA<h2/>
                <p>í mió. kr.</p>
                    <div>
                        <div id="chart6"></div>
                    </div>
            </div>
        </section>    




        <section data-background="assets/london.jpg" data-background-transition="fade" data-autoslide="4000">
            <h1><img src="assets/hagstova_logo_white.svg" alt="Hagstova Føroya" class="logo" />Stóra Bretland</h1>
        </section>
        <section data-state="storabretland" data-background="assets/london.jpg"  data-autoslide="20000">
            <div class="infobox blue">
                <div class="background"></div>
                <h2>Samhandil við Stóra Bretland<h2/>
                <p>í mió. kr.</p>
                    <div>
                        <div id="chart7"></div>
                    </div>
            </div>
        </section>

        <section data-background="assets/danmark.jpg" data-background-transition="fade" data-autoslide="4000">
            <h1><img src="assets/hagstova_logo_white.svg" alt="Hagstova Føroya" class="logo" />Danmark</h1>
        </section>
        <section data-state="danmark" data-background="assets/danmark.jpg"  data-autoslide="20000">
            <div class="infobox blue">
                <div class="background"></div>
                <h2>Samhandil við Danmark<h2/>
                <p>í mió. kr.</p>
                    <div>
                        <div id="chart11"></div>
                    </div>
            </div>
        </section>                        



        <section data-background="assets/tyskland.jpg" data-background-transition="fade" data-autoslide="4000">
            <h1><img src="assets/hagstova_logo_white.svg" alt="Hagstova Føroya" class="logo" />Týskland</h1>
        </section>
        <section data-state="tyskland" data-background="assets/tyskland.jpg"  data-autoslide="20000">
            <div class="infobox blue">
                <div class="background"></div>
                <h2>Samhandil við Týskland<h2/>
                <p>í mió. kr.</p>
                    <div>
                        <div id="chart12"></div>
                    </div>
            </div>
        </section>   


        <section data-background="assets/noreg.jpg" data-background-transition="fade" data-autoslide="4000">
            <h1><img src="assets/hagstova_logo_white.svg" alt="Hagstova Føroya" class="logo" />Noreg</h1>
        </section>
        <section data-state="noreg" data-background="assets/noreg.jpg"  data-autoslide="20000">
            <div class="infobox blue">
                <div class="background"></div>
                <h2>Samhandil við Noreg<h2/>
                <p>í mió. kr.</p>
                    <div>
                        <div id="chart13"></div>
                    </div>
            </div>
        </section>   




        <section data-background="assets/es.jpg" data-background-transition="fade" data-autoslide="4000">
            <h1><img src="assets/hagstova_logo_white.svg" alt="Hagstova Føroya" class="logo" />Evropa Samveldið</h1>
        </section>
        <section data-state="es" data-background="assets/es.jpg"  data-autoslide="20000">
            <div class="infobox blue">
                <div class="background"></div>
                <h2>Samhandil við ES<h2/>
                <p>í mió. kr.</p>
                    <div>
                        <div id="chart14"></div>
                    </div>
            </div>
        </section>   


<!--        <section data-background="assets/fatakravadi.jpg" data-autoslide="4000">
            <h1><img src="assets/hagstova_logo_white.svg" alt="Hagstova Føroya" class="logo" />Fátækraváði</h1>
        </section>
        <section data-background="assets/fatakravadi.jpg">
            <div class="infobox blue left">
                <div class="background"></div>
                <h2>Fátækraváði
                    <h2/>
                    <div>
                        <div id="chart10"></div>
                    </div>
            </div>
        </section>
        <section data-background="assets/arbeidsfjold.jpg" data-autoslide="4000">
            <h1><img src="assets/hagstova_logo_white.svg" alt="Hagstova Føroya" class="logo" />Arbeiðsfjøld</h1>
        </section>
        <section data-background="assets/arbeidsfjold.jpg">
            <div class="infobox blue left">
                <div class="background"></div>
                <h2>Arbeiðsfjøld
                    <h2/>
                    <div>

                    </div>
            </div>
        </section>-->

    </div>
</div>

<script src="lib/js/head.min.js"></script>
<script src="js/reveal.js"></script>

<script>
            // More info https://github.com/hakimel/reveal.js#configuration
            Reveal.initialize({
                history: true,

                // More info https://github.com/hakimel/reveal.js#dependencies
                dependencies: [
                    { src: "plugin/notes/notes.js", async: true },
                    { src: "plugin/highlight/highlight.js", async: true, callback: function () { hljs.initHighlightingOnLoad(); } }
                ]
            });



            Reveal.addEventListener("innutflutningur", function () {
                startAnimatingChart1();
            }, false);

            Reveal.addEventListener("innflutninguruttanskip", function () {
                startAnimatingChart8();
            }, false);

            Reveal.addEventListener("innflutningurslag", function () {
                startAnimatingChart9();
            }, false);

            Reveal.addEventListener("utflutningur", function () {
                startAnimatingChart2();
            }, false);

            Reveal.addEventListener("fiskavoruutflutningur", function () {
                startAnimatingChart3();
            }, false);


            Reveal.addEventListener("russland", function () {
                startAnimatingChart5();
            }, false);


            Reveal.addEventListener("usa", function () {
                startAnimatingChart6();
            }, false);


            Reveal.addEventListener("storabretland", function () {
                startAnimatingChart7();
            }, false);


            Reveal.addEventListener("danmark", function () {
                startAnimatingChart11();
            }, false);

            Reveal.addEventListener("tyskland", function () {
                startAnimatingChart12();
            }, false);


            Reveal.addEventListener("noreg", function () {
                startAnimatingChart13();
            }, false);            

            Reveal.addEventListener("es", function () {
                startAnimatingChart14();
            }, false);     

            Reveal.addEventListener("fragmentshown", function (event) {
                // Fragmentlistener

            });


            // Slide every 30 seconds
            Reveal.configure({
                autoSlide: 50000,
                loop: true
            });




        </script>


</body>

</html>
